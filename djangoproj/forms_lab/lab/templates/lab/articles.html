{% extends "lab/base.html" %}
{% load staticfiles %}
{% load static %}

{% block main_content %}


<div class="container-fluid">
    <div class="row">
        <div class="col-md-7">
            <form method="post" action="{% url 'articles' %}">
                {% csrf_token %}
                {{ formset.management_form }}
                <table class="table table-striped table-bordered table-formset">
                    <thead>
                    Editing Posted Articles
                    </thead>

                    <tr>
                        <th>Author</th>
                        <th>Title</th>
                    </tr>
                    {% for form in formset %}
                         <tr>
                            <td> {{ form.author }} </td>
                            <td class="right-column"> {{form.title }} </td>
                        </tr>
                    {% endfor %}
                </table>
                <input class="btn btn-success" type="submit" value = "Save"/>
            </form>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <button id = "add" class="btn btn-primary btn-sm">Add new row</button>
            </div>
        </div>
        <div class="row">
            {% for dict in formset.errors %}
                {% for error in dict.values %}
                    {{ error }}
                {% endfor %}
            {% endfor %}
        </div>
    </div>


<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.3.min.js"></script>
<script src="{%  static "formset_management.js" %}"></script>

{% endblock main_content %}
